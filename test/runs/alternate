:

# Testing alternate structure

ws initialize $HOME/alternate >&3
test $? -eq 0 || fail init alternate

test $WS_DIR = $HOME/alternate || fail init alternate set
test -d $HOME/alternate || fail init alternate created
test -d $HOME/alternate/.ws || fail init alternate .ws
test -f $HOME/alternate/.ws/config.sh || fail init alternate config.sh
test -f $HOME/alternate/.ws/hook.sh || fail init alternate hook.sh
test -f $HOME/alternate/.ws/skel.sh || fail init alternate skel.sh
test -d $HOME/alternate/.ws/plugins || fail init alternate plugins

ws use $HOME/workspaces
test $? -eq 0 || fail use
test $WS_DIR = $HOME/workspaces || fail use WS_DIR
test -z "$_ws__current" || fail use current no-ws

ws use $HOME/alternate default >&3
test "$_ws__current" = "default" || fail use current ws
